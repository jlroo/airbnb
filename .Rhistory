# Here we are checking if the package is installed
if(!require("tidyverse")){
# If the package is not in the system then it will be install
install.packages("tidyverse", dependencies = TRUE)
# Here we are loading the package
library("tidyverse")
}
listings <- read_csv("data/2017/airbnb.csv")
head(listings)
listings <- read_csv("data/2015/airbnb.csv")
listings <- read_csv("data/2015/airbnb.csv")
head(listings)
listings <- read_csv("data/2015/airbnb.csv")
head(listings)
rm(listings)
airbnb <- read_csv("data/2015/airbnb.csv")
head(airbnb)
columns <- colnames(airbnb)
columns
airbnb$id <- as.character(airbnb$id)
airbnb$scrape_id <- as.character(airbnb$scrape_id)
head(airbnb)
airbnb <- read_csv("data/2015/airbnb.csv")
columns <- c("id", "scrape_id")
select(airbnb,columns)
columns <- colnames(airbnb)
columns
df <- read_csv("data/liquidity/2010-liquidity.csv")
qplot(df$timestamp, df$liquid)
airbnb <- select(airbnb,-columns)
columns <- c("id", "scrape_id")
airbnb <- select(airbnb,- one_of(columns))
head(airbnb)
airbnb <- read_csv("data/2015/airbnb.csv")
head(airbnb)
airbnb <- read_csv("data/2015/airbnb.csv")
head(airbnb)
tail(airbnb)
# Here we are checking if the package is installed
if(!require("tidyverse")){
# If the package is not in the system then it will be install
install.packages("tidyverse", dependencies = TRUE)
# Here we are loading the package
library("tidyverse")
}
simple <- read_csv("data/2015/summary.csv")
airbnb <- read_csv("data/2015/airbnb.csv")
simple <- read_csv("data/2015/summary.csv")
simple
airbnb
head(airbnb)
head(airbnb)
tail(airbnb)
colnames(airbnb)
colnames(airbnb)[1:16]
colnames(airbnb)[16:26]
colnames(airbnb)[17:37]
remove_columns <- c("scrape_id", "summary", "scrape_id",
"thumbnail_url" ,"medium_url","picture_url",
"xl_picture_url")
remove_columns <- c("scrape_id", "summary", "description", "scrape_id",
"thumbnail_url" ,"medium_url","picture_url",
"xl_picture_url", "neighbourhood_cleansed",
"host_thumbnail_url")
airbnb <- select(airbnb, -one_of(columns))
head(airbnb)
remove_columns <- c("listing_url","scrape_id", "summary",
"description", "scrape_id",
"thumbnail_url" ,"medium_url","picture_url",
"xl_picture_url", "neighbourhood_cleansed",
"host_thumbnail_url")
airbnb <- select(airbnb, -one_of(columns))
head(airbnb)
remove_columns <- c("listing_url","scrape_id", "summary",
"description", "scrape_id",
"thumbnail_url" ,"medium_url","picture_url",
"xl_picture_url", "neighbourhood_cleansed",
"host_thumbnail_url")
airbnb <- select(airbnb, -one_of(remove_columns))
head(airbnb)
remove_columns <- c("listing_url","scrape_id", "summary",
"description", "scrape_id",
"thumbnail_url" ,"medium_url","picture_url",
"xl_picture_url", "neighbourhood_cleansed",
"host_thumbnail_url", "last_scraped")
airbnb <- select(airbnb, -one_of(remove_columns))
head(airbnb)
remove_columns <- c("listing_url","scrape_id", "summary",
"description", "scrape_id","space",
"thumbnail_url" ,"medium_url","picture_url",
"xl_picture_url", "neighbourhood_cleansed",
"host_thumbnail_url", "last_scraped")
airbnb <- select(airbnb, -one_of(remove_columns))
head(airbnb)
remove_columns <- c("listing_url","scrape_id", "summary",
"description", "scrape_id","space",
"thumbnail_url" ,"medium_url","picture_url",
"xl_picture_url", "neighbourhood_cleansed",
"host_thumbnail_url", "last_scraped", "neighborhood_overview")
airbnb <- select(airbnb, -one_of(remove_columns))
head(airbnb)
remove_columns <- c("listing_url","scrape_id", "summary",
"description", "scrape_id","space",
"thumbnail_url" ,"medium_url","picture_url",
"xl_picture_url", "neighbourhood_cleansed",
"host_thumbnail_url", "last_scraped",
"neighborhood_overview", "notes")
airbnb <- select(airbnb, -one_of(remove_columns))
head(airbnb)
remove_columns <- c("listing_url","scrape_id", "summary",
"description", "scrape_id","space",
"thumbnail_url" ,"medium_url","picture_url",
"xl_picture_url", "neighbourhood_cleansed",
"host_thumbnail_url", "last_scraped",
"neighborhood_overview", "notes", "transit")
airbnb <- select(airbnb, -one_of(remove_columns))
head(airbnb)
remove_columns <- c("listing_url","scrape_id", "summary",
"description", "scrape_id","space",
"thumbnail_url" ,"medium_url","picture_url",
"xl_picture_url", "neighbourhood_cleansed",
"host_thumbnail_url", "last_scraped",
"neighborhood_overview", "notes", "transit",
"host_url","host_about", "host_picture_url")
airbnb <- select(airbnb, -one_of(remove_columns))
head(airbnb)
remove_columns <- c("listing_url","scrape_id", "summary",
"description", "scrape_id","space",
"thumbnail_url" ,"medium_url","picture_url",
"xl_picture_url", "neighbourhood_cleansed",
"host_thumbnail_url", "last_scraped",
"neighborhood_overview", "notes", "transit",
"host_url","host_about", "host_picture_url",
"neighbourhood_group_cleansed")
airbnb <- select(airbnb, -one_of(remove_columns))
head(airbnb)
airbnb <- select(airbnb, -one_of(remove_columns))
remove_columns <- c("listing_url","scrape_id", "summary",
"description", "scrape_id","space",
"thumbnail_url" ,"medium_url","picture_url",
"xl_picture_url", "neighbourhood_cleansed",
"host_thumbnail_url", "last_scraped",
"neighborhood_overview", "notes", "transit",
"host_url","host_about", "host_picture_url",
"neighbourhood_group_cleansed")
airbnb <- select(airbnb, -one_of(remove_columns))
airbnb <- read_csv("data/2015/airbnb.csv")
remove_columns <- c("listing_url","scrape_id", "summary",
"description", "scrape_id","space",
"thumbnail_url" ,"medium_url","picture_url",
"xl_picture_url", "neighbourhood_cleansed",
"host_thumbnail_url", "last_scraped",
"neighborhood_overview", "notes", "transit",
"host_url","host_about", "host_picture_url",
"neighbourhood_group_cleansed")
airbnb_price <- select(airbnb, -one_of(remove_columns))
head(airbnb_price)
airbnb_price$id <- as.character(airbnb_price$id)
airbnb_price$scrape_id <- as.character(airbnb_price$scrape_id)
airbnb_price$id <- as.character(airbnb_price$id)
airbnb_price$scrape_id <- as.character(airbnb_price$host_id)
head(airbnb_price)
airbnb_price <- select(airbnb, -one_of(remove_columns))
head(airbnb_price)
airbnb_price$id <- as.character(airbnb_price$id)
airbnb_price$host_id <- as.character(airbnb_price$host_id)
head(airbnb_price)
host_response_rate <- airbnb_price$host_response_rate
host_response_rate
as.numeric(host_response_rate)
host_response_rate
str_remove(host_response_rate, "%")
as.numeric(str_remove(host_response_rate, "%"))
host_response_rate <- as.numeric(str_remove(host_response_rate, "%"))
host_response_rate
host_response_rate <- host_response_rate/100
host_response_rate
airbnb_price$host_response_rate <- host_response_rate
summary(airbnb[1:5])
summary(airbnb[1:10])
remove_columns <- c("listing_url","scrape_id", "summary",
"description", "scrape_id","space",
"thumbnail_url" ,"medium_url","picture_url",
"xl_picture_url", "neighbourhood_cleansed",
"host_thumbnail_url", "last_scraped",
"neighborhood_overview", "notes", "transit",
"host_url","host_about", "host_picture_url",
"neighbourhood_group_cleansed")
airbnb_price <- select(airbnb, -one_of(remove_columns))
head(airbnb_price)
summary(airbnb_price[1:10])
airbnb_price$id <- as.character(airbnb_price$id)
airbnb_price$host_id <- as.character(airbnb_price$host_id)
summary(airbnb_price[1:10])
airbnb_price$id <- as_factor(airbnb_price$id)
airbnb_price$host_id <- as_factor(airbnb_price$host_id)
summary(airbnb_price[1:10])
as.logical(airbnb_price$host_is_superhost)
airbnb_price$host_is_superhost
airbnb_price$host_is_superhost <- ifelse(airbnb_price$host_is_superhost=="t",1,0)
summary(airbnb_price[10:20])
summary(airbnb_price[10:37])
airbnb_price$host_is_superhost <- ifelse(airbnb_price$host_is_superhost=="t",TRUE,FALSE)
summary(airbnb_price[10:20])
ifelse(airbnb_price$host_is_superhost=="t",TRUE,FALSE)
airbnb_price$host_is_superhost
airbnb_price <- select(airbnb, -one_of(remove_columns))
airbnb_price$host_is_superhost
ifelse(airbnb_price$host_is_superhost=="t",TRUE,FALSE)
airbnb_price$host_is_superhost <- ifelse(airbnb_price$host_is_superhost=="t",TRUE,FALSE)
summary(airbnb_price[1:10])
summary(airbnb_price[10:20])
airbnb_price$host_verifications
airbnb_price$host_verifications[1]
str_remove_all(airbnb_price$host_verifications[1], "\[|\]","")
str_remove_all(airbnb_price$host_verifications[1], "\\[ | \\]","")
airbnb_price$host_verifications[1]
str_remove_all(airbnb_price$host_verifications[1], "\\[ | \\]")
str_remove_all(airbnb_price$host_verifications[1], "\\[ | \\]")
str_remove_all(airbnb_price$host_verifications[1], "\[ | \]")
str_remove_all(airbnb_price$host_verifications[1], "\\[")
str_remove_all(airbnb_price$host_verifications[1], "\\[ | \\]")
str_remove_all(airbnb_price$host_verifications[1], "\\[ || \\]")
str_remove_all(airbnb_price$host_verifications[1], "\\[ || \]")
str_remove_all(airbnb_price$host_verifications[1], "\\[")
str_remove(airbnb_price$host_verifications[1], "\\}")
str_remove(airbnb_price$host_verifications[1], "\\]")
str_split(airbnb_price$host_verifications[1], ",")
host_verifications <- str_remove(airbnb_price$host_verifications[1], "\\[")
host_verifications <- str_remove(host_verifications, "\\]")
host_verifications <- str_split(host_verifications, ",")
host_verifications
host_verifications <- str_split(host_verifications, ",") %>% unlist()
host_verifications
host_verifications <- str_remove(airbnb_price$host_verifications[1], "\\[")
host_verifications <- str_remove(host_verifications, "\\]")
host_verifications <- str_split(host_verifications, ",")
host_verifications
host_verifications <- str_remove(airbnb_price$host_verifications[1], "\\[")
host_verifications <- str_remove(host_verifications, "\\]")
host_verifications <- str_remove_all(host_verifications, "\'")
host_verifications <- str_split(host_verifications, ",")
host_verifications
colnames(airbnb)
write_csv(airbnb_price, "data/airbnb_price.csv")
